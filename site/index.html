<!DOCTYPE HTML>
<html lang="zh-cmn-Hans">
  <head>
    <meta charset="UTF-8">
    <title>原神抽卡记录可视化</title>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name=format-detection content="telephone=no">
    <!--<link rel=stylesheet href="https://dgck81lnn.github.io/bootstrap-lnn/dist/bootstrap-lnn.min.css">
    <script defer src="https://dgck81lnn.github.io/bootstrap-lnn/dist/bootstrap.bundle.min.js"></script>-->
    <link rel=stylesheet href="/css3/basic.css">
    <link rel=stylesheet href="/css3/night.css">
    <link rel=stylesheet href="style.css">
  </head>
  <body>
    <header>
      <h1 id=h1>
        原神抽卡记录可视化
        <div id=h1-author>by DGCK81LNN (aka 蕾)</div>
      </h1>
    </header>
    <section id=section-options class="section">
      <div id=options-inputs>
        <fieldset id=optiongroup-files class="optiongroup">
          <legend>导入抽卡记录</legend>
          <details>
            <summary>打开抽卡记录文件</summary>
            <input type=file id=files-input accept=".json" style="max-width: 80vw">
            <p>仅支持 <a href="https://uigf.org/zh/standards/UIGF.html">UIGF</a>（统一可交换祈愿记录标准）v2 格式的记录。</p>
          </details>
          <details>
            <summary>使用抽卡分析 URL 查询</summary>
            <textarea id=files-url rows=5
              placeholder="https://hk4e-api.mihoyo.com/event/gacha_info/api/getGachaLog?. . ."
            ></textarea>
            <p>在此粘贴抽卡分析 URL 来获取抽卡记录。抽卡分析链接的获取方法可参考“提瓦特小助手”的<a href="https://mp.weixin.qq.com/s/QkyUqrvGxVuZGpBMMJEKsg">抽卡分析 URL 获取教程</a>。</p>
            <button type=button id=files-url-okbtn>开始获取</button>
            <div id=files-url-log></div>
          </details>
          <hr>
          <div id=files-footer>
            <span id=files-status>正在加载卡池数据……</span>
            <button type=button id=files-clearbtn disabled>清空</button>
          </div>
        </fieldset>
        <fieldset id=optiongroup-options class="optiongroup">
          <legend>选项</legend>
          <div>
            <div>
              <input type=checkbox id=option-showstd>
              <label for=option-showstd>显示常驻池、新手池记录</label>
            </div>
            <div>
              <input type=checkbox id=option-uncertain-char>
              <label for=option-uncertain-char>角色池有已过期无法查询的抽卡历史</label>
            </div>
            <div>
              <input type=checkbox id=option-uncertain-weapon>
              <label for=option-uncertain-weapon>武器池有已过期无法查询的抽卡历史</label>
            </div>
            <div>
              <input type=checkbox id=option-uncertain-chronicled>
              <label for=option-uncertain-chronicled>集录池有已过期无法查询的抽卡历史</label>
            </div>
            <div id=option-uncertain-std-wrap hidden>
              <input type=checkbox id=option-uncertain-std>
              <label for=option-uncertain-std>常驻池有已过期无法查询的抽卡历史</label>
            </div>
          </div>
        </fieldset>
      </div>
      <div id=options-footer>
        <button type=button id=renderbtn disabled>加载</button>
        <button type=button id=exportbtn disabled>导出</button>
        <span style="opacity: 80%; font-size: 80%">
          本程序导出的数据符合 <a href="https://uigf.org/zh/standards/UIGF.html">UIGF</a>（统一可交换祈愿记录标准）v3.0。
        </span>
      </div>
    </section>
    <hr>
    <section id=section-render class="section">欢迎使用☺️</section>
    <hr>
    <footer id=section-footer class="section">
      <p>原神抽卡记录可视化 by DGCK81LNN (aka 蕾)</p>
      <!--<p lang=en>hosted by ponyicu</p>-->
      <p>GitHub: <a href="https://github.com/DGCK81LNN/gi-gacha">DGCK81LNN/gi-gacha</a></p>
    </footer>

    <script src="script.js"></script>
  </body>
</html>
